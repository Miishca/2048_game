var e=document.querySelector("tbody"),n=document.querySelector(".game-score"),t=document.querySelector("button"),r=document.querySelector(".message-start"),o=document.querySelector(".message-win"),a=document.querySelector(".message-lose"),i=document.querySelector(".message-container"),s=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],c=0,l=!1,f=!1;function d(){for(var e=[],n=0;n<4;n++)for(var t=0;t<4;t++)0===s[n][t]&&e.push({row:n,column:t});if(e.length>0){var r=e[Math.floor(Math.random()*e.length)],o=r.row,a=r.column;s[o][a]=.1>Math.random()?4:2}}document.addEventListener("keydown",function(e){if(l){var n=!1;switch(e.key){case"ArrowUp":!function(){for(var e=!1,n=0;n<4;n++)!function(n){for(var t=[],r=0;r<4;r++)0!==s[r][n]&&t.push(s[r][n]);for(var o=0;o<t.length-1;o++)t[o]===t[o+1]&&(t[o]*=2,t[o+1]=0,c+=t[o],e=!0);for(t=t.filter(function(e){return 0!==e});t.length<4;)t.push(0);for(var a=0;a<4;a++)s[a][n]!==t[a]&&(e=!0),s[a][n]=t[a]}(n);e&&(d(),u())}(),n=!0;break;case"ArrowDown":!function(){for(var e=!1,n=0;n<4;n++)!function(n){for(var t=[],r=0;r<4;r++)0!==s[r][n]&&t.push(s[r][n]);for(var o=t.length-1;o>0;o--)t[o]===t[o-1]&&(t[o]*=2,t[o-1]=0,c+=t[o],e=!0);for(t=t.filter(function(e){return 0!==e});t.length<4;)t.unshift(0);for(var a=0;a<4;a++)s[a][n]!==t[a]&&(e=!0),s[a][n]=t[a]}(n);e&&(d(),u())}(),n=!0;break;case"ArrowLeft":!function(){for(var e=!1,n=0;n<s.length;n++)!function(n){for(var t=s[n].filter(function(e){return 0!==e}),r=0;r<t.length-1;r++)t[r]===t[r+1]&&(t[r]*=2,t[r+1]=0,c+=t[r],e=!0);for(t=t.filter(function(e){return 0!==e});t.length<4;)t.push(0);JSON.stringify(t)!==JSON.stringify(s[n])&&(e=!0),s[n]=t}(n);e&&(d(),u())}(),n=!0;break;case"ArrowRight":!function(){for(var e=!1,n=0;n<s.length;n++)!function(n){for(var t=s[n].filter(function(e){return 0!==e}),r=t.length-1;r>0;r--)t[r]===t[r-1]&&(t[r]*=2,t[r-1]=0,c+=t[r],e=!0);for(t=t.filter(function(e){return 0!==e});t.length<4;)t.unshift(0);JSON.stringify(t)!==JSON.stringify(s[n])&&(e=!0),s[n]=t}(n);e&&(d(),u())}(),n=!0}n&&u()}});var u=function(){n.innerHTML='\n    <span class="game-score">'.concat(c,"</span>\n  "),e.innerHTML="";for(var t=0;t<s.length;t++){var d=document.createElement("tr");d.classList.add("field-row");for(var u=0;u<s[t].length;u++){var h=s[t][u],g=document.createElement("td");g.textContent=0===h?"":h,g.classList.add("field-cell"),0===h?g.classList.add("field-cell"):g.classList.add("field-cell--".concat(h)),d.appendChild(g)}e.appendChild(d)}!function(){for(var e=0;e<s.length;e++)for(var n=0;n<s[e].length;n++)if(0===s[e][n]||n<s[e].length-1&&s[e][n]===s[e][n+1]||e<s.length-1&&s[e][n]===s[e+1][n])return!1;return a.classList.remove("hidden"),!0}()&&(!function(){for(var e=0;e<s.length;e++)for(var n=0;n<s[e].length;n++)if(2048===s[e][n])return f=!0,o.classList.remove("hidden"),!0}(),o.classList.toggle("hidden",!f),a.classList.add("hidden"),o.classList.add("hidden"),l?i.contains(r)&&i.removeChild(r):i.appendChild(r))};t.addEventListener("click",function(){l=!0,s=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],c=0,t.classList.add("restart"),t.textContent="Restart",i.contains(r)&&i.removeChild(r),a.classList.add("hidden"),o.classList.add("hidden"),d(),d(),u()});
//# sourceMappingURL=index.c9935f2c.js.map
